<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>README</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="confluence-smart-publisher">ğŸš€ Confluence Smart Publisher</h1>
<p>Visual Studio Code extension that allows you to create, edit,
publish, download, and synchronize Confluence pages directly from your
editor, using <code>.confluence</code> files in a custom XML format
named Confluence Storage Format.</p>
<h2 id="buy-me-a-coffe">â˜•ï¸ Buy me a coffe</h2>
<p>Enjoying the Confluence Smart Publisher extension? <a
href="https://www.paypal.com/donate/?business=ESQ3RSFYC6JMY&amp;no_recurring=0&amp;item_name=Enjoying+the+Confluence+Smart+Publisher+extension?%0ASupport+its+development+by+buying+me+a+coffee+and+help+keep+it+running%21&amp;currency_code=BRL">Support
its development by buying me a coffee and help keep it running!</a></p>
<h2 id="extension-in-action">ğŸ¬ Extension in Action</h2>
<h3 id="real-time-diagnostics">ğŸ©º Real-time Diagnostics</h3>
<div data-align="left">
<p><img src="https://antoniocarelli.github.io/confluence-smart-publisher/images/diagnostics.gif" alt="Diagnosis" width="500"/></p>
</div>
<p>Visualize problemas de estrutura e tags em tempo real, com dicas e
correÃ§Ãµes automÃ¡ticas diretamente no editor.</p>
<h3 id="smart-formatter">ğŸ› ï¸ Smart Formatter</h3>
<div data-align="left">
<p><img src="https://antoniocarelli.github.io/confluence-smart-publisher/images/formater.gif" alt="Formatter" width="500"/></p>
</div>
<p>Formate seus arquivos <code>.confluence</code> automaticamente, com
numeraÃ§Ã£o de capÃ­tulos e padronizaÃ§Ã£o de tags.</p>
<h2 id="table-of-contents">ğŸ“‹ Table of Contents</h2>
<ul>
<li><a href="#-confluence-smart-publisher">ğŸš€ Confluence Smart
Publisher</a>
<ul>
<li><a href="#ï¸-buy-me-a-coffe">â˜•ï¸ Buy me a coffe</a></li>
<li><a href="#-extension-in-action">ğŸ¬ Extension in Action</a>
<ul>
<li><a href="#-real-time-diagnostics">ğŸ©º Real-time Diagnostics</a></li>
<li><a href="#ï¸-smart-formatter">ğŸ› ï¸ Smart Formatter</a></li>
</ul></li>
<li><a href="#-table-of-contents">ğŸ“‹ Table of Contents</a></li>
<li><a href="#-features">âœ¨ Features</a>
<ul>
<li><a href="#-new-material-for-mkdocs-live-preview">ğŸ” NEW: Material
for MkDocs Live Preview</a></li>
<li><a href="#-material-for-mkdocs-conversion-support">ğŸ¨ Material for
MkDocs Conversion Support</a></li>
<li><a href="#-commands">ğŸ® Commands</a></li>
<li><a href="#-unique-feature-metadata-synchronization">ğŸ”„ UNIQUE
FEATURE: Metadata synchronization!</a></li>
<li><a href="#-validations-and-diagnostics">ğŸ” Validations and
Diagnostics</a>
<ul>
<li><a href="#-structure-validation">ğŸ“ Structure Validation</a></li>
<li><a href="#ï¸-visual-diagnostics">ğŸ‘ï¸ Visual Diagnostics</a></li>
<li><a href="#-specific-validations">âœ… Specific Validations</a></li>
<li><a href="#-auto-correction">ğŸ”§ Auto-correction</a></li>
<li><a href="#-logs-and-diagnostics">ğŸ“Š Logs and Diagnostics</a></li>
</ul></li>
</ul></li>
<li><a href="#ï¸-requirements">âš™ï¸ Requirements</a></li>
<li><a href="#-installation">ğŸ“¥ Installation</a></li>
<li><a href="#-extension-settings">ğŸ”§ Extension Settings</a></li>
<li><a href="#-confluence-file-structure">ğŸ“„ .confluence File
Structure</a></li>
<li><a href="#-dependencies">ğŸ§© Dependencies</a>
<ul>
<li><a href="#core-dependencies">Core Dependencies</a></li>
<li><a href="#preview-system-dependencies">Preview System
Dependencies</a>
<ul>
<li><a href="#styling-and-theming">Styling and Theming</a></li>
</ul></li>
</ul></li>
<li><a href="#-known-issues">ğŸš§ Known Issues</a></li>
<li><a href="#-contributing">ğŸ§‘â€ğŸ’» Contributing</a></li>
<li><a href="#â„¹ï¸-more-information">â„¹ï¸ More Information</a></li>
<li><a href="#-acknowledgments">ğŸ™ Acknowledgments</a></li>
<li><a href="#-license">ğŸ“„ License</a>
<ul>
<li><a href="#third-party-licenses">Third-Party Licenses</a></li>
</ul></li>
</ul></li>
</ul>
<h2 id="features">âœ¨ Features</h2>
<h3 id="new-material-for-mkdocs-live-preview">ğŸ” NEW: Material for
MkDocs Live Preview</h3>
<p>The extension now includes a <strong>high-fidelity Markdown preview
system</strong> with authentic Material for MkDocs styling:</p>
<ul>
<li><strong>ğŸ¨ Pixel-Perfect Rendering</strong>: Uses real CSS from
mkdocs-material repository (v9.6.15) for authentic visual output</li>
<li><strong>ğŸ“ Advanced Admonitions</strong>: Full support for 8
admonition types with proper Material Design colors and icons
<ul>
<li><code>!!! note "Note Title"</code> - Blue informational blocks</li>
<li><code>!!! tip "Tip Title"</code> - Green helpful suggestions<br />
</li>
<li><code>!!! warning "Warning Title"</code> - Orange cautionary
blocks</li>
<li><code>!!! danger "Danger Title"</code> - Red critical alerts</li>
<li><code>!!! success "Success Title"</code> - Green success
indicators</li>
<li><code>!!! info "Info Title"</code> - Cyan informational blocks</li>
<li><code>!!! question "Question Title"</code> - Purple FAQ blocks</li>
<li><code>!!! quote "Quote Title"</code> - Gray citation blocks</li>
</ul></li>
<li><strong>âš¡ Real-Time Updates</strong>: Auto-refresh preview with
debounced updates (300ms) as you type</li>
<li><strong>ğŸ“± Responsive Design</strong>: Mobile-friendly preview that
adapts to all screen sizes</li>
<li><strong>ğŸ¯ Smart Context Detection</strong>: Automatically
recognizes Markdown files and provides appropriate UI states</li>
<li><strong>ğŸ”§ Easy Access</strong>: Available via Command Palette
(<code>Confluence Smart Publisher: Open Markdown Preview</code>) and
context menu</li>
</ul>
<blockquote>
<p><strong>Usage</strong>: Open any <code>.html</code> file, right-click
and select â€œOpen Markdown Previewâ€ or use <code>Ctrl+Shift+P</code> â†’
â€œConfluence Smart Publisher: Open Markdown Previewâ€</p>
</blockquote>
<h3 id="material-for-mkdocs-conversion-support">ğŸ¨ Material for MkDocs
Conversion Support</h3>
<p>Enhanced support for <strong>Material for MkDocs</strong> format
conversion: - <strong>Admonition Conversion</strong>: Confluence panels
are automatically converted to Material for MkDocs admonition syntax
(<code>!!! type "title"</code>) - <strong>Complete Type
Mapping</strong>: Support for all Confluence panel types including
<code>info</code>, <code>warning</code>, <code>success</code>,
<code>error</code>, <code>tip</code>, <code>note</code>,
<code>example</code>, <code>quote</code>, <code>abstract</code>,
<code>failure</code>, <code>bug</code>, <code>question</code>, and
<code>custom</code> - <strong>Smart Formatting</strong>: First paragraph
becomes the admonition title, remaining content is properly indented -
<strong>Fallback Support</strong>: Unknown panel types gracefully
fallback to <code>note</code> admonition type</p>
<h3 id="commands">ğŸ® Commands</h3>
<ul>
<li><strong>ğŸ” Markdown Preview</strong>: Live preview of Markdown files
with Material for MkDocs styling and admonition support. Perfect for
documentation workflows.</li>
<li><strong>Direct publishing</strong>: Publish <code>.confluence</code>
files as pages on Confluence with a single click. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/publish-document">ğŸ“š
Documentation</a></li>
<li><strong>Page downloading</strong>: Download Confluence pages by
title or ID, converting them to local editable format. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/download-by-title">ğŸ“š
Documentation by title</a> <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/download-by-id">ğŸ“š
Documentation by id</a></li>
<li><strong>Synchronization</strong>: Compare and synchronize local
content with whatâ€™s published on Confluence, choosing which version to
keep. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/sync-with-published">ğŸ“š
Documentation</a></li>
<li><strong>Template-based creation</strong>: Create new files based on
Confluence template pages. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/create-document">ğŸ“š
Documentation</a></li>
<li><strong>Markdown to Confluence</strong>: Convert Markdown files to
Confluence Storage Format, supporting common syntax like headers, lists,
code blocks, and tables. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/convert-markdown">ğŸ“š
Documentation</a></li>
<li><strong>Confluence to Markdown</strong>: Convert Confluence Storage
Format files to Markdown with enhanced support for Material for MkDocs
Admonitions, preserving metadata, macros, and formatting. Panel elements
are automatically converted to proper admonition syntax with
comprehensive type mapping. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/convert-confluence-markdown">ğŸ“š
Documentation</a></li>
<li><strong>Automatic formatting</strong>: Format
<code>.confluence</code> files with specific rules, including automatic
chapter numbering. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/format-document">ğŸ“š
Documentation</a></li>
<li><strong>Structure validation</strong>: Real-time diagnostics of
required tags, structure, and attributes, displaying issues in VSCode.
<a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/structure-validation">ğŸ“š
Documentation</a></li>
<li><strong>Tag auto-completion</strong>: Smart suggestions for
Confluence custom tags and attributes. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/tag-auto-completion">ğŸ“š
Documentation</a></li>
<li><strong>Smart snippets</strong>: Automatic suggestions of XML code
blocks for custom tags, with completion of required and optional
attributes, speeding up document writing. Just type <code>csp</code> and
the options will appear like magic! <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/smart-snippets">ğŸ“š
Documentation</a></li>
<li><strong>Html Entities Decode</strong>: Automatic conversion of HTML
entities to special characters when downloading pages. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/decode-html">ğŸ“š
Documentation</a></li>
<li><strong>Set title emoji</strong>: Easily add emojis to your page
titles directly in VSCode. <a
href="https://antoniocarelli.github.io/confluence-smart-publisher/docs/set-title-emoji">ğŸ“š
Documentation</a></li>
</ul>
<blockquote>
<p>All commands are available in the â€œConfluence Smart Publisherâ€
submenu when you right-click on a <code>.confluence</code> file, an
<code>.html</code> file, or any folder.</p>
</blockquote>
<h3 id="unique-feature-metadata-synchronization">ğŸ”„ UNIQUE FEATURE:
Metadata synchronization!</h3>
<blockquote>
<p><code>Labels</code>, <code>Properties</code>, <code>PageId</code>,
and <code>ParentId</code> are always kept up-to-date between the local
file and the remote page on Confluence.<br />
<strong>Any changes made locally (or in Confluence) are transparently
reflected, avoiding inconsistencies and facilitating version control and
organization of your documents.</strong></p>
</blockquote>
<blockquote>
<p><strong>Important Note:</strong> To ensure metadata synchronization,
you need to use the â€œSync with Published on Confluenceâ€ command. This
command will compare and synchronize all metadata between your local
file and the remote page, allowing you to choose which version to keep.
Without using this command, metadata changes made in Confluence wonâ€™t be
automatically reflected in your local file.</p>
</blockquote>
<h3 id="validations-and-diagnostics">ğŸ” Validations and Diagnostics</h3>
<p>The Confluence Smart Publisher extension offers several validation
and diagnostic features to ensure the integrity and quality of your
documents:</p>
<h4 id="structure-validation">ğŸ“ Structure Validation</h4>
<ul>
<li><strong>Real-time Validation</strong>: Checks the document structure
as you type, ensuring all required tags are present and properly
formatted.</li>
<li><strong>Tag Diagnostics</strong>: Identifies missing, malformed, or
invalid attributes, displaying warnings directly in the editor.</li>
<li><strong>Attribute Validation</strong>: Verifies if required
attributes are present and if their values are valid.</li>
</ul>
<h4 id="visual-diagnostics">ğŸ‘ï¸ Visual Diagnostics</h4>
<ul>
<li><strong>Error Markers</strong>: Structure issues are highlighted
with red underlines in the editor.</li>
<li><strong>Correction Tips</strong>: Hovering over errors displays
suggestions on how to fix the problem.</li>
<li><strong>Problems List</strong>: All issues found are listed in the
VS Code â€œProblemsâ€ panel.</li>
</ul>
<h4 id="specific-validations">âœ… Specific Validations</h4>
<ul>
<li><strong>Metadata Validation</strong>: Checks if the
<code>&lt;csp:parameters&gt;</code> block is present and properly
formatted.</li>
<li><strong>ID Validation</strong>: Confirms if page and parent IDs are
in valid format.</li>
<li><strong>Label Validation</strong>: Verifies if labels are in correct
format and donâ€™t contain invalid characters.</li>
<li><strong>Properties Validation</strong>: Ensures page properties are
in valid format.</li>
</ul>
<h4 id="auto-correction">ğŸ”§ Auto-correction</h4>
<ul>
<li><strong>Automatic Formatting</strong>: When saving the file, the
extension can automatically fix formatting issues.</li>
<li><strong>Indentation Correction</strong>: Automatically adjusts XML
indentation for better readability.</li>
<li><strong>Tag Normalization</strong>: Standardizes tag formatting to
maintain document consistency.</li>
</ul>
<h4 id="logs-and-diagnostics">ğŸ“Š Logs and Diagnostics</h4>
<ul>
<li><strong>Log Panel</strong>: All operations are logged in the VS Code
â€œOutput | CSPâ€ panel.</li>
<li><strong>Error Diagnostics</strong>: In case of publication or
synchronization failure, detailed logs are generated to facilitate
problem identification.</li>
<li><strong>Operation Status</strong>: Visual feedback on ongoing
operations.</li>
</ul>
<h2 id="requirements">âš™ï¸ Requirements</h2>
<ul>
<li>VS Code version 1.96.0 or higher.</li>
<li>Confluence Cloud (Atlassian) account with edit permission.</li>
<li>Confluence API Token (generate at <a
href="https://id.atlassian.com/manage-profile/security/api-tokens">https://id.atlassian.com/manage-profile/security/api-tokens</a>).</li>
</ul>
<h2 id="installation">ğŸ“¥ Installation</h2>
<ol type="1">
<li>Open VS Code</li>
<li>Go to the extensions tab (Ctrl+Shift+X)</li>
<li>Search for â€œConfluence Smart Publisherâ€</li>
<li>Click â€œInstallâ€</li>
<li>After installation, configure the necessary options in VS Code
settings</li>
</ol>
<p>Alternatively, you can install from the VS Code Marketplace: <a
href="https://marketplace.visualstudio.com/items?itemName=AntonioCarelli.confluence-smart-publisher">Confluence
Smart Publisher</a></p>
<h2 id="extension-settings">ğŸ”§ Extension Settings</h2>
<p>This extension adds the following settings to VSCode:</p>
<table>
<colgroup>
<col style="width: 34%" />
<col style="width: 65%" />
</colgroup>
<thead>
<tr class="header">
<th>Key</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>confluenceSmartPublisher.baseUrl</code></td>
<td>Base URL of your Confluence instance (e.g.,
https://company.atlassian.net/wiki)</td>
</tr>
<tr class="even">
<td><code>confluenceSmartPublisher.username</code></td>
<td>Confluence username (usually email)</td>
</tr>
<tr class="odd">
<td><code>confluenceSmartPublisher.apiToken</code></td>
<td>Confluence API Token</td>
</tr>
<tr class="even">
<td><code>confluenceSmartPublisher.format.numberChapters</code></td>
<td>Automatically numbers chapters when formatting the
<code>.confluence</code> document (default: true)</td>
</tr>
<tr class="odd">
<td><code>confluenceSmartPublisher.htmlEntitiesDecode</code></td>
<td>Activates automatic conversion of HTML entities to special
characters when downloading pages (default: false)</td>
</tr>
<tr class="even">
<td><code>confluenceSmartPublisher.mathRenderer</code></td>
<td>Choose the mathematical renderer for formula blocks based on where
the markdown will be viewed (default: katex)</td>
</tr>
</tbody>
</table>
<h2 id="confluence-file-structure">ğŸ“„ .confluence File Structure</h2>
<p>This extension adds a <code>&lt;csp:parameters&gt;</code> block to
the document, which is used internally by the Confluence Smart Publisher
extension, and whose values can be modified.</p>
<p><code>&lt;csp:file_id&gt;</code>: Page ID in Confluence
(automatically filled after publication).</p>
<p><code>&lt;csp:labels_list&gt;</code>: List of labels separated by
commas. Additions and changes will be reflected on the online page.</p>
<p><code>&lt;csp:parent_id&gt;</code>: Parent page ID in Confluence.</p>
<p><code>&lt;csp:properties&gt;</code>: Page properties (key/value).
These properties can be changed, deleted, or new ones included. But be
careful as changes may cause unexpected effects.</p>
<p>Example:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode xml"><code class="sourceCode xml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>&lt;<span class="kw">csp:parameters</span><span class="ot"> xmlns:csp=</span><span class="st">&quot;https://confluence.smart.publisher/csp&quot;</span>&gt;</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">csp:file_id</span>&gt;123456&lt;/<span class="kw">csp:file_id</span>&gt;</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">csp:labels_list</span>&gt;user-story,scope,pending&lt;/<span class="kw">csp:labels_list</span>&gt;</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">csp:parent_id</span>&gt;654321&lt;/<span class="kw">csp:parent_id</span>&gt;</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  &lt;<span class="kw">csp:properties</span>&gt;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">csp:key</span>&gt;content-appearance-published&lt;/<span class="kw">csp:key</span>&gt;</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    &lt;<span class="kw">csp:value</span>&gt;fixed-width&lt;/<span class="kw">csp:value</span>&gt;</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  &lt;/<span class="kw">csp:properties</span>&gt;</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>&lt;/<span class="kw">csp:parameters</span>&gt;</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Page content in Confluence Storage format --&gt;</span></span></code></pre></div>
<h2 id="dependencies">ğŸ§© Dependencies</h2>
<h3 id="core-dependencies">Core Dependencies</h3>
<ul>
<li><a href="https://cheerio.js.org/">cheerio</a>
<ul>
<li>Manipulation and parsing of HTML/XML in jQuery style, facilitating
the extraction and modification of elements.</li>
</ul></li>
<li><a
href="https://github.com/NaturalIntelligence/fast-xml-parser">fast-xml-parser</a>
<ul>
<li>Fast conversion between XML and JSON, essential for reading and
validating .confluence files.</li>
</ul></li>
<li><a href="https://github.com/form-data/form-data">form-data</a>
<ul>
<li>Creation of multipart forms for file uploads (e.g., attaching images
to Confluence via API).</li>
</ul></li>
<li><a href="https://github.com/node-fetch/node-fetch">node-fetch</a>
<ul>
<li>Performs HTTP/HTTPS requests, allowing communication with the
Confluence API.</li>
</ul></li>
<li><a
href="https://github.com/miketheprogrammer/xml-escape">xml-escape</a>
<ul>
<li>Escapes special characters to ensure valid XML when publishing or
downloading content.</li>
</ul></li>
<li><a href="https://github.com/fb55/entities">entities</a>
<ul>
<li>Library for decoding HTML entities, used in the decoding
functionality.</li>
</ul></li>
<li><a href="https://github.com/missive/emoji-mart">emoji-mart</a>
<ul>
<li>Emoji picker used to add emojis to titles.</li>
</ul></li>
</ul>
<h3 id="preview-system-dependencies">Preview System Dependencies</h3>
<ul>
<li><a href="https://github.com/markdown-it/markdown-it">markdown-it</a>
<ul>
<li>Markdown parser with extensible architecture, used for high-fidelity
preview rendering.</li>
</ul></li>
<li><a
href="https://github.com/brad-jones/markdown-it-admonition">markdown-it-admonition</a>
<ul>
<li>Plugin for markdown-it that adds support for Material for MkDocs
admonition syntax.</li>
</ul></li>
</ul>
<h4 id="styling-and-theming">Styling and Theming</h4>
<ul>
<li><a href="https://github.com/squidfunk/mkdocs-material">Material for
MkDocs</a> (CSS Assets)
<ul>
<li>Official Material Design theme for MkDocs, providing authentic
styling for the preview system.</li>
<li>Version: 9.6.15</li>
<li>Files integrated: <code>main.scss</code>, <code>palette.scss</code>,
<code>_admonition.scss</code></li>
</ul></li>
</ul>
<h2 id="known-issues">ğŸš§ Known Issues</h2>
<ul>
<li>The format of <code>.confluence</code> files must strictly follow
the expected structure, otherwise publication may fail.</li>
<li>Only Confluence Cloud (Atlassian) is supported. There is no support
for Confluence Server/Data Center.</li>
<li>There is no support for password authentication, only API
Token.</li>
<li>Pages with very large attachments may experience slowness during
download or synchronization.</li>
<li>Special characters in file names can cause attachment problems.</li>
</ul>
<h2 id="contributing">ğŸ§‘â€ğŸ’» Contributing</h2>
<p>Contributions are welcome! Follow the Extension Guidelines to ensure
best practices.</p>
<ol type="1">
<li>Fork the repository</li>
<li>Create a branch for your feature (git checkout -b
feature/your-feature)</li>
<li>Commit your changes (git commit -m â€˜Add new featureâ€™)</li>
<li>Push to the branch (git push origin feature/your-feature)</li>
<li>Open a Pull Request</li>
</ol>
<h2 id="â„¹-more-information">â„¹ï¸ More Information</h2>
<ul>
<li><a href="https://code.visualstudio.com/api">Official VSCode
documentation for extensions</a></li>
<li><a href="developer.atlassian.com/cloud/confluence/rest/">Official
Confluence Cloud REST API documentation</a></li>
<li><a
href="https://confluence.atlassian.com/doc/confluence-storage-format-790796544.html">Official
Confluence Storage Format documentation</a>
<ul>
<li>This documentation is for the Data Center version, but much of it
applies to the Cloud version.</li>
</ul></li>
</ul>
<h2 id="acknowledgments">ğŸ™ Acknowledgments</h2>
<p>This extension leverages several excellent open-source projects:</p>
<ul>
<li><strong><a
href="https://github.com/squidfunk/mkdocs-material">Material for
MkDocs</a></strong> by Martin Donath - For the beautiful Material Design
theme and CSS assets that power our preview system</li>
<li><strong><a
href="https://github.com/markdown-it/markdown-it">markdown-it</a></strong>
- For the robust and extensible Markdown parser</li>
<li><strong><a
href="https://github.com/brad-jones/markdown-it-admonition">markdown-it-admonition</a></strong>
by Brad Jones - For seamless admonition support</li>
<li><strong>Atlassian Confluence</strong> - For providing the platform
and APIs that make this extension possible</li>
</ul>
<p>Special thanks to the maintainers and contributors of these projects
for their excellent work.</p>
<h2 id="license">ğŸ“„ License</h2>
<p>This extension is distributed under the MIT license. See the LICENSE
file for more details.</p>
<h3 id="third-party-licenses">Third-Party Licenses</h3>
<ul>
<li><strong>Material for MkDocs</strong>: MIT License - Copyright (c)
2016-2025 Martin Donath</li>
<li><strong>markdown-it</strong>: MIT License - Copyright (c) 2014
Vitaly Puzrin, Alex Kocharin</li>
<li><strong>markdown-it-admonition</strong>: MIT License - Copyright (c)
2020 Brad Jones</li>
</ul>
<hr />
<p><em>Have fun publishing to Confluence smartly!</em></p>
</body>
</html>
